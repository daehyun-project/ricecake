<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/rice/index.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div class="game">
        <div class="screen">
            <div class="sky">
                <div class="mill">
                    <p>🏏</p>
                    <p>🏏</p>
                    <p>🏏</p>
                    <p>🏏</p>
                    <p>🏏</p>
                    <p>🏏</p>
                </div>
                <div style="color: white;">
                    26일 12시부터 3시간 코딩해서 만든거라 토끼만 있어요
                </div>
                
                <div class="scorebar">
                    <div>❄️</div>
                    <div class="score">0</div>
                </div>
            </div>

            <div class="timer">
                <div class="alerticon">⏰</div>
                <div class="time"></div>
                
            </div>

            <div class="dot">
                <div id="top" class="top">
                    
                </div>

                <div id="mid" class="top">
                    
                </div>

                <div id="bottom" class="bottom">
                    
                </div>
            </div>


        </div>
        
        <div class="control">
            <div class="blankbutton">

            </div>

            <div class="topbutton">
                <div class="left">
                    <div id="redbtn" class="redbtn"></div>
                </div>
                <div class="right">
                    
                </div>
            </div>

            <div class="bottombutoom">
                <div class="left">
                    <div id="yellowbtn" class="yellowbtn"></div>
                    <div id="orangebtn" class="orangebtn"></div>
                </div>
                <div class="right">
                    <div id="purplebtn" class="purplebtn"></div>
                </div>
            </div>
        </div>

    </div>

    <script>
        var topdiv = document.getElementById('top');
        var middiv = document.getElementById('mid');
        var bottomdiv = document.getElementById('bottom');

        var ball_list = ["red", "yellow","orange","purple"];

        var list = []
        var cnt = 0;
        
        function start(){
            list = [];
            topdiv.innerHTML = "";
            middiv.innerHTML = "";
            bottomdiv.innerHTML = "";
            cnt = 0;

            for (let i = 0; i < 18; i++){
            let random = Math.floor(Math.random() * ball_list.length);
            list.push(ball_list[random]);
            }

            console.log(list);

            for (let i = 0; i < 6; i++){
                topdiv.innerHTML += `<div class="ball ${list[i]}"></div>`;
                middiv.innerHTML += `<div class="ball ${list[i+6]}"></div>`;
                bottomdiv.innerHTML += `<div class="ball ${list[i+12]}"></div>`;
            }

            
        }



        var redbtn = document.getElementById('redbtn');
        var yellowbtn = document.getElementById('yellowbtn');
        var orangebtn = document.getElementById('orangebtn');
        var purplebtn = document.getElementById('purplebtn');

redbtn.addEventListener('click', function(){
    if (list[cnt] == "red"){
        var ball = document.querySelectorAll('.ball');
        ball[cnt].style.backgroundImage = "url('/rice/images/icon/red_gray.png')";
        
        cnt++;
        console.log("성공");
    } else {
        alert("실패");
        start();
    }
    if (cnt == 18){
        alert("성공");
        start();
    }
});

yellowbtn.addEventListener('click', function(){
    if (list[cnt] == "yellow"){
        var ball = document.querySelectorAll('.ball');
        ball[cnt].style.backgroundImage = "url('/rice/images/icon/yellow_gray.png')";
        
        cnt++;
        console.log("성공");
    } else {
        alert("실패");
        start();
    }
    if (cnt == 18){
        alert("성공");
        start();
    }
});

orangebtn.addEventListener('click', function(){
    if (list[cnt] == "orange"){
        var ball = document.querySelectorAll('.ball');
        ball[cnt].style.backgroundImage = "url('/rice/images/icon/orange_gray.png')";
        
        cnt++;
        console.log("성공");
    } else {
        alert("실패");
        start();
    }
    if (cnt == 18){
        alert("성공");
        start();
    }
});

purplebtn.addEventListener('click', function(){
    if (list[cnt] == "purple"){
        var ball = document.querySelectorAll('.ball');
        ball[cnt].style.backgroundImage = "url('/rice/images/icon/purple_gray.png')";
        
        cnt++;
        console.log("성공");
    } else {
        alert("실패");
        start();
    }
    if (cnt == 18){
        alert("성공");
        start();
    }
});



// 시간을 세는 함수

var time = document.querySelector('.time');
var alerticon = document.querySelector('.alerticon');

var timer = setInterval(function(){
    time.innerHTML = parseInt(time.innerHTML) - 1;
    if (parseInt(time.innerHTML) == 0){
        clearInterval(timer);
        alerticon.innerHTML = "시간초과";
    }
}, 1000);

  
start();


</script>

</body>
</html>